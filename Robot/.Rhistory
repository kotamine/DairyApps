shiny::runApp('DEA_app')
isTRUE(length(NULL)>0)
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
does this show up?
numericInput("ncow","Cows?",5)
renderTable({
head(raw_inputs,input$ncow)
})
head(read.csv("data/MD_data_sample.csv") )
# hist(cars)
# hist(raw_outputs[,1])
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
install.packages('devtools')
deployApp()
library(shinyapps)
deployApp()
shinyapps::setAccountInfo(name='kotamine', token='AB1483C6EB98B2043121B21B21314B40', secret='ySmGUVEGI9XVnep1Q/BPIIzHF/dX9vzSf5GPZp5O')
deployApp()
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
theme: flatly
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('DEA_app')
shiny::runApp('~/Documents/shiny/Robot')
tbl
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
input$profile_choice
p
choices[p]
shiny::runApp('~/Documents/shiny/Robot')
input$milk_change
shiny::runApp('~/Documents/shiny/Robot')
p
p
shiny::runApp('~/Documents/shiny/Robot')
rp$milk_change
rp$pellets
rp$table_after_tax
Q
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
rp$inc_rev_total
rp$inc_exp_total
rp$dec_exp_total
rp$inc_exp_herd_increase
rp$inc_exp_feed
rp$inc_exp_pellet
rp$inc_exp_record_management
rp$inc_exp_repair
rp$inc_exp_replacement
rp$inc_exp_utilities
rp$repair
rp$repair_total
rp$insurance_rate
input$insurance_rate
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
rp$bw_wage_before_tax
rp$bw_wage_after_tax
rp$bw_wage_inflation_after_tax
rp$bw_wage_inflation_before_tax
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
rp$milk_feed
rp$labor_repair
rp$capital
rp$misc
rp$inflation
rp$NAI
rp$bw_wage_after_tax
rp$net_annual_impact_after_tax
rp$net_annual_impact_before_tax
rp$tax_revenue_minus_expense
rp$tax_interest
rp$tax_depreciation
rp$adj_WACC_hurdle
rp$adj_WACC_interest
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
rp$table_before_tax_cash_flow[1,
]
rp$table_before_tax_cash_flow
rp$table_before_tax
rp$table_before_tax[1,]
rp$table_before_tax[1,] %>% round()
tbl
c(round(rp$table_before_tax[1,]))
round(rp$table_before_tax[1,])
round(rp$table_before_tax[1,]) %>% unlist
round(rp$table_before_tax[1,]) %>% unlist()
c(round(rp$table_before_tax[1,])) %>% unlist()
matrix(round(rp$table_before_tax[1,]), ncol=1)
tbl <- data.frame(
profile=c("Barn Only","Retrofit Parlors","New Parlors","Robots"),
before.tax=matrix(round(rp$table_before_tax[1,]),ncol=1),
after.tax =matrix(round(rp$table_after_tax[1,]),ncol=1)
)
tbl
library(googleVis)
df <- data.frame(profile =c("A","B","C","D"),
var1 = c(1,2,2,1),
var2 = c(4,2,6,3))
gvisColumnChart(df, xvar="profile", yvar=c("var1","var2"),
options=list(isStacked=FALSE)) %>% plot()
df
gvisColumnChart(df, xvar="profile", yvar=c("var1","var2")) %>% plot()
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
tbl
tbl[,2]
tbl$before.tax
tbl <- data.frame(
profile=c("Barn Only","Retrofit Parlors","New Parlors","Robots"),
before.tax=c(matrix(round(rp$table_before_tax[1,]),ncol=1)),
after.tax =c(matrix(round(rp$table_after_tax[1,]),ncol=1))
)
tbl
c(matrix(round(rp$table_before_tax[1,]),ncol=1))
round(rp$table_before_tax['Net Annual Impact',]
)
round(rp$table_before_tax['Net Annual Impact',])
data.frame(b=round(rp$table_before_tax['Net Annual Impact',]))
data.frame(b=as.matrix(round(rp$table_before_tax['Net Annual Impact',])))
as.integers(round(rp$table_before_tax['Net Annual Impact',]))
as.numeric(round(rp$table_before_tax['Net Annual Impact',]))
data.frame(b=as.numeric(round(rp$table_before_tax['Net Annual Impact',])))
tbl <- data.frame(
profile=c("Barn Only","Retrofit Parlors","New Parlors","Robots"),
before.tax=as.numeric(round(rp$table_before_tax[1,])),
after.tax =as.numeric(round(rp$table_after_tax[1,]))
)
tbl
tbl[,2]
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
paste("{title:Impact under",
robot_or_parlor(), "($)")
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
input$abc
a <- list
a$aa
a <- list()
a
a$a <-1
a
a$b
a$b %>% is.null()
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
rp$cost_milking
rp$cost_milking2
rp$cost_parlors
rp$cost_robot
shiny::runApp('~/Documents/shiny/Robot')
rp$cost_parlors
rp$cost_milking
shiny::runApp('~/Documents/shiny/Robot')
p
p
p
rp$cost_parlors
rp$cost_robot
rp$cost_robot
rp$cost_parlors
Q
shiny::runApp('~/Documents/shiny/Robot')
p
p
p
p
p
rp$cost_housing
rp$copy_cost_housing
rv$copy_cost_housing_pr4
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
install.packages('devtools')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
Q
library(devtools)
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
input$cost_housing_cow
input$milk_change
input$hr_sv_milking
input$cost_robot
input$cost_parlors
input$milking_years
input$pellets
mins_production_change
length(mins_production_change)
length(steps_production_change)
length(varnames_production_change)
input$robot_parlor
input$profile_choice
input$milk_change
input$cost_housing_cow
input$cost_housing_cow_pr1
input$cost_housing_cow
input$hr_sv_milking
input$hr_sv_milking
input$cost_housing_cow
''
shiny::runApp('~/Documents/shiny/Robot')
x
x
x
input$x
input[[x]]
length(varnames_production_change)
i
varnames
length(varnames)
length(varnames)
input$milk_change
input$cost_housing_cow
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
tbl_robot
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
varnames
input[[varnames[n]]]
input[[varnames[1]]
]
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp('~/Documents/shiny/Robot')
Q
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp()
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
x
shiny::runApp()
x
x
x
x
x
x
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
Q
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
pb_var_to_render_right <- c("inc_rev_herd_size","inc_rev_per_cow",
"inc_rev_milk_premium", "inc_rev_cull_sale",
"inc_rev_software",
"inc_rev_total",
"dec_exp_heat_detection",  "dec_exp_labor",
"dec_exp_labor_management",
"dec_exp_total",
"inc_exp_herd_increase", "inc_exp_repair", "inc_exp_feed", "inc_exp_pellet",
"inc_exp_replacement", "inc_exp_utilities", "inc_exp_record_management",
"inc_exp_total" )
inflation_factors <- c("inflation_margin", "inflation_robot",
"inflation_labor", "inflation_general")
assign_factors <- c(rep(1,6), rep(3,4), rep(1,8))
# The order of factor assignments correspond to var_to_render_0_right
inflation <- lapply(assign_factors, function(z) { inflation_factors[z] })
names(inflation) <- pb_var_to_render_right
inflation
shiny::runApp()
Q
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
x
ans[[x]]$positive_total
ans[[x]]$negative_total
ans[[x]]$inc_exp_total
ans[[x]]$WACC
input[[paste0("down_housing",x)]] +input[[paste0("down_milking1",x)]]) * input$hurdle_rate
input[[paste0("down_housing",x)]] +input[[paste0("down_milking1",x)]]) * input$hurdle_rate
input[[paste0("down_housing",x)]] +input[[paste0("down_milking1",x)]] * input$hurdle_rate
ans[[x]]$loan_housing * input$r_housing + ans[[x]]$loan_milking1
ans[[x]]$loan_housing * input[[paste0("r_housing",x)]] + ans[[x]]$loan_milking1
input[[paste0("r_housing",x)]])/100
input[[paste0("r_housing",x)]]/100
ans[[x]]$cost_housing + ans[[x]]$cost_milking
-pmt(input[[paste0("r_milking1",x)]]/100, ans[[x]]$planning_horizon,
npv(input[[paste0("r_milking1",x)]]/100,
ans[[x]]$table_debt$milking_interest+ans[[x]]$table_debt$milking_principal))
-pmt(input[[paste0("r_housing",x)]]/100, ans[[x]]$planning_horizon,
npv(input[[paste0("r_housing",x)]]/100,
ans[[x]]$table_debt$barn_interest+ans[[x]]$table_debt$barn_principal))
pmt(input[[paste0("r_milking1",x)]]/100, ans[[x]]$planning_horizon,
npv(input[[paste0("r_milking1",x)]]/100,
ans[[x]]$table_cash_flow$salvage[-1]))
pmt(input$hurdle_rate/100, ans[[x]]$planning_horizon,
npv(input$hurdle_rate/100,
ans[[x]]$table_cash_flow$downpayment[-1])+ans[[x]]$table_cash_flow$downpayment[1])
shiny::runApp()
x
ans[[x]]$pb_positive_total
x
x
x
shiny::runApp()
shiny::runApp()
i_factor
input[[inflation[[paste0(z)]]]]/100
input[[paste0("budget_year",x)]]
shiny::runApp()
i_factor
shiny::runApp()
shiny::runApp()
ans[[x]]$salvage_milking_PV
ans[[x]]$cost_downpayment
shiny::runApp()
shiny::runApp()
ans[[x]]$pb_negative_total
shiny::runApp()
refProfileName <-  function(x) {
switch(x,
base_profiles[1]="Robots",
base_profiles[2]="Retrofit Parlors",
base_profiles[3]="New Parlors",
combo_profiles[1]="Retrofit/Robots",
combo_profiles[2]="Retrofit/New"
)
}
refProfileName <-  function(x) {
switch(x,
paste(base_profiles[1])="Robots",
base_profiles[2]="Retrofit Parlors",
base_profiles[3]="New Parlors",
combo_profiles[1]="Retrofit/Robots",
combo_profiles[2]="Retrofit/New"
)
}
refProfileName <-  function(x) {
switch(x,
"paste(base_profiles[1])"="Robots",
base_profiles[2]="Retrofit Parlors",
base_profiles[3]="New Parlors",
combo_profiles[1]="Retrofit/Robots",
combo_profiles[2]="Retrofit/New"
)
}
refProfileName <-  function(x) {
switch(x,
"Robots"="Robots",
"Retrofit"="Retrofit Parlors",
"New"="New Parlors",
"RetrofitRobots"="Retrofit/Robots",
"RetrofitNew"="Retrofit/New"
)
}
shiny::runApp()
refProfileName(base_profles[1])
base_profiles <- c("Robots","Retrofit","New")
combo_profiles <- c("RetrofitRobots","RetrofitNew")
refProfileName(base_profles[1])
refProfileName(base_profiles[1])
refProfileName(base_profiles[2])
refProfileName(base_profiles[3])
shiny::runApp()
df
input$inflation_margin
project_inflation(n_year, ans[[x]]$inc_rev_total, input$inflation_margin/100)
project_inflation(n_year, ans[[x]]$inc_rev_total, input$inflation_margin/100) %>% unlist()
shiny::runApp()
df
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
