shiny::runApp('~/Documents/shiny/scratch_paper')
shiny::runApp()
X
ans[["Robots_se1"]][["table_cash_flow"]]$after_tax_cash_flow
ans[["Robots_se2"]][["table_cash_flow"]]$after_tax_cash_flow
ans[["Robots_se2"]][["table_cash_flow"]]$after_tax_cash_flow
df
x
refProfileName(x)
sd
df
tax_status
refProfileName(x)
df
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
tbl
x
refProfileName(x)
sum[["table_after_tax"]]()
gsub(" ",".","Retrofit Parlors")
shiny::runApp()
tbl
tbl
gsub(" ", ".", refProfileName(x))
tbl <- data.frame(
varnames=c("Milk Income","Feed Cost"),
Robot=c(200,
150,
Current=c(180,
130)  %>% round
)
tbl
tbl <- data.frame(
varnames=c("Milk Income","Feed Cost"),
Robot=c(200,
150) %>% round,
Current=c(180,
130)  %>% round
)
tbl
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
)
tbl
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
shiny::runApp()
tbl <- data.frame(
varnames=c("Milk \n Income","Feed \n Cost"),
Robot=c(200,
150) %>% round,
Current=c(180,
130)  %>% round
)
tbl
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
tbl <- data.frame(
varnames=c("Milk \n Income","Feed \n Cost"),
Robot=c(200,
150) %>% round,
Current=c(180,
130)  %>% round
)
tbl
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
tbl <- data.frame(
varnames=c("Milk Income","Feed Cost"),
Robot=c(200,
150) %>% round,
Current=c(180,
130)  %>% round
)
tbl
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
tbl <- data.frame(
varnames=c("Milk","Feed"),
Robot=c(200,
150) %>% round,
Current=c(180,
130)  %>% round
)
tbl
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
shiny::runApp()
tbl <- data.frame(
varnames=c("Milk","Feed"),
color1=c("green","orange"),
color2=c("blue","yellow"),
Robot=c(200,
150) %>% round,
Current=c(180,
130)  %>% round
)
names(data)<-c("varnames","Robot.style","Current.style")
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[3:4],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
tbl <- data.frame(
varnames=c("Milk","Feed"),
color1=c("green","orange"),
color2=c("blue","yellow"),
Robot=c(200,
150) %>% round,
Current=c(180,
130)  %>% round
)
names(data)<-c("varnames","Robot.style","Current.style","Robot","Current")
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[4:5],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
library(googleVis)
tbl <- data.frame(
varnames=c("Milk","Feed"),
color1=c("green","orange"),
color2=c("blue","yellow"),
Robot=c(200,
150) %>% round,
Current=c(180,
130)  %>% round
)
names(data)<-c("varnames","Robot.style","Current.style","Robot","Current")
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[4:5],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
names(tbl)<-c("varnames","Robot.style","Current.style","Robot","Current")
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[4:5],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
tbl
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[2:5],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[4,2],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[c(4,2)],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[c(4,2,5,3)],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
tbl <- data.frame(
varnames=c("Milk","Feed"),
Robot=c(200,
150) %>% round,
color1=c("green","orange"),
Current=c(180,
130)  %>% round,
color2=c("blue","yellow")
)
names(tbl)<-c("varnames","Robot","Robot.style","Current.style","Current")
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
names(tbl)<-c("varnames","Robot","Robot.style","Current","Current.style")
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="top")
) %>% plot()
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1],
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="none")
) %>% plot()
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1] #,
#              options=list( #title="Net Annual Impact ($)",
#                # titleTextStyle="{fontSize:16}",
#                legend="none")
) %>% plot()
tbl <- data.frame(
varnames=c("Milk","Feed"),
Robot=c(200,
150) %>% round,
color1=rep("#2B60DE",2),
Current=c(180,
130)  %>% round,
color2=rep("#2B60DE",2)
)
names(tbl)<-c("varnames","Robot","Robot.style","Current","Current.style")
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1] #,
#              options=list( #title="Net Annual Impact ($)",
#                # titleTextStyle="{fontSize:16}",
#                legend="none")
) %>% plot()
tbl <- data.frame(
varnames=c("Milk","Feed"),
Robot=c(200,
150) %>% round,
color1=rep("#2B60DE",2),
Current=c(180,
130)  %>% round,
color2=rep("#679CFF",2)
)
names(tbl)<-c("varnames","Robot","Robot.style","Current","Current.style")
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1] #,
#              options=list( #title="Net Annual Impact ($)",
#                # titleTextStyle="{fontSize:16}",
#                legend="none")
) %>% plot()
tbl <- data.frame(
varnames=c("Milk","Feed"),
Robot=c(200,
150) %>% round,
color1=rep("#2B60DE",2),
Current=c(180,
130)  %>% round,
color2=rep("#99CEFF",2)
)
names(tbl)<-c("varnames","Robot","Robot.style","Current","Current.style")
gvisBarChart(tbl, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1] #,
#              options=list( #title="Net Annual Impact ($)",
#                # titleTextStyle="{fontSize:16}",
#                legend="none")
) %>% plot()
shiny::runApp()
shiny::runApp()
tbl2 <- data.frame(
varnames=c("Milk","Feed"),
Robot=c(200,150,80, 100) %>% round,
color1=rep("#2B60DE",4)
)
names(tbl2)<-c("varnames","Robot","Robot.style")
gvisBarChart(tbl2, xvar=colnames(tbl)[1],
yvar=colnames(tbl)[-1] #,
#              options=list( #title="Net Annual Impact ($)",
#                # titleTextStyle="{fontSize:16}",
#                legend="none")
) %>% plot()
tbl2 <- data.frame(
varnames=c("Milk","Feed"),
Robot=c(200,150,80, 100) %>% round,
color1=rep("#2B60DE",4)
)
names(tbl2)<-c("varnames","Robot","Robot.style")
gvisBarChart(tbl2, xvar=colnames(tbl2)[1],
yvar=colnames(tbl2)[-1] #,
#              options=list( #title="Net Annual Impact ($)",
#                # titleTextStyle="{fontSize:16}",
#                legend="none")
) %>% plot()
gvisBarChart(tbl2, xvar=colnames(tbl2)[1],
yvar=colnames(tbl2)[-1] #,
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="none")
) %>% plot()
gvisBarChart(tbl2, xvar=colnames(tbl2)[1],
yvar=colnames(tbl2)[-1] #,
options=list( #title="Net Annual Impact ($)",
# titleTextStyle="{fontSize:16}",
legend="none")
) %>% plot()
gvisBarChart(tbl2, xvar=colnames(tbl2)[1],
yvar=colnames(tbl2)[-1] #,
options=list(
legend="none")
) %>% plot()
gvisBarChart(tbl2, xvar=colnames(tbl2)[1],
yvar=colnames(tbl2)[-1], #,
options=list(
legend="none")
) %>% plot()
shiny::runApp()
tbl
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
c(c(-5:-1)*10,c(1:5)*10)
c(c(-10:-1)*5,c(1:10)*5)
c(c(-5:-1)*10,c(1:5)*10)
c(c(-5:-1)*20,c(1:5)*20)
c(c(-5:-1),c(1:5))*2
seq_along(c(4,5,7))
shiny::runApp()
shiny::runApp()
shiny::runApp()
version
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
is.null(calc_type)
is.na(calc_type)
shiny::runApp()
shiny::runApp()
change_vars
sensitivity_vars
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
tbl
tbl
tbl$after_tax
ans[[paste0(x, "_se")]]$table_sensitivity_plot
shiny::runApp()
tbl
tbl
colnames(tbl)[1]
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
df
i
Q
df_null <- function(colnames) {
dummy <- matrix(rep(NA,length(colnames)),nrow=1)
colnames(dummy) <- colnames
empty_table <- data.frame(Column1 = numeric(0))
empty_table <- rbind(empty_table, dummy)[NULL,]
empty_table
}
base_profiles
base_profiles %>% refProfileName()
refProfileName <-  function(x) {
if (grepl("_se", x)) {  # TRUE/FALSE for sensitivity analysis
x <- gsub("_se\\d+","",x)
}
switch(x,
"Robots"="Robots",
"Retrofit"="Retrofit Parlors",
"New"="New Parlors")
}
base_profiles %>% refProfileName()
lapply(base_profiles, refProfileName)
lapply(base_profiles, refProfileName) %>% unlist*
()
lapply(base_profiles, refProfileName) %>% unlist
lapply(base_profiles, refProfileName) %>% unlist %>% df_null()
shiny::runApp()
df
Q
shiny::runApp()
c(c(-5:-1),c(1:5))*2/10 * 100
getwd()
library(shinyapps)
shinyapps::setAccountInfo(name='kotamine', token='0061EC6D709A8BC8BC2AAD86CC927BD4', secret='Up6irQzFOBlWlBCbDJ+IIaYvg8vr/mBxOAfEY8FO')
deployApp()
shiny::runApp()
shiny::runApp('~/Documents/shiny/Robot')
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
Rprof()
Rprof()
shiny::runApp()
Rprof(NULL)
summaryRprof()
shiny::runApp()
Rprof()
Rprof()
shiny::runApp()
Rprof(NULL)
summaryRprof()
shiny::runApp()
x
x
x
x
x
x
shiny::runApp()
shiny::runApp()
shiny::runApp()
x
x
x
x
x
x
shiny::runApp()
x
x
x
x
x
ans[[x]]$net_annual_impact_before_tax
x
shiny::runApp()
shiny::runApp()
shiny::runApp()
x
x
x
x
x
shiny::runApp()
x
x
x
x
x
shiny::runApp()
x
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
runApp()
runApp()
runApp()
Q
runApp()
runApp()
Q
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
getwd()
getwd
getwd()
getwd()
setwd("/Documents/shiny/Robot")
setwd("/Documents/shiny/Robot")
